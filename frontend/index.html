<!DOCTYPE html>
<html lang="en">

<head>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Syne+Mono&display=swap" rel="stylesheet">
	<link href="dist/css/index.css" rel="stylesheet">
	<link href="srcs/css/animations.css" rel="stylesheet">
	<link rel="icon" href="img/favicon.ico" />
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Transcendence</title>

</head>

<body class="min-h-screen flex flex-col bg-cover bg-center" style="background-image: url('img/bg/mars.jpg');">


	<header class="flex items-center justify-between h-16 p-4 bg-rose-950 bg-opacity-90 shadow z-50">

		<!-- Left part title -->
		<div class="flex items-center gap-4">
			<h1 id="headerTitle" class="uppercase text-2xl md:text-4xl text-amber-100 font-bold cursor-pointer" style="font-family: 'Syne Mono', cursive;">
				Transcendence</h1>
			<!-- Desktop slot for profile (moved here via JS) -->
			<div id="headerUserSlot" class="hidden md:flex items-center"></div>
		</div>

		<!-- Desktop: normal menu inline | Mobile: burger opens slide-out from right -->
		<div class="flex items-center gap-2">
			<div id="headerMenu"
				class="fixed top-16 right-0 w-80 max-w-[85vw] h-[calc(100vh-4rem)] bg-rose-950 bg-opacity-95 text-amber-100 translate-x-full transition-transform duration-300 z-50 p-4 flex justify-center flex-col gap-6 overflow-y-auto
					md:static md:top-auto md:right-auto md:w-auto md:max-w-none md:h-auto md:p-0 md:bg-transparent md:translate-x-0 md:flex-row md:items-center md:gap-3 md:overflow-visible">

				<div id="userInfo" class="hidden items-center md:flex-row flex-col gap-3 hover:cursor-pointer">
					<img id="userAvatar" class="w-32 h-32 md:w-12 md:h-12 rounded-full object-cover" src="" />
					<span id="userName" class="text-amber-100 font-semibold"></span>
				</div>

				<div id="authButtons" class="hidden flex-col gap-2 md:flex-row md:items-center">
					<button id="btnSignIn" data-i18n="signIn"
						class="bg-purple-600 text-amber-100 px-4 py-2 rounded hover:bg-purple-500">
					</button>
					<button id="btnSignUp" data-i18n="signUp"
						class="bg-orange-700 text-amber-100 px-4 py-2 rounded hover:bg-orange-600">
					</button>
				</div>

				<button id="btnStats" class="hidden items-center bg-transparent text-amber-100 hover:text-white">
					<img src="img/btn/stats1.png" alt="Stats" class="w-10 h-10" />
					<span class="text-amber-100 font-semibold ml-2">Stats</span>
				</button>

				<div id="notifications" class="hidden relative cursor-pointer md:mx-4">
					<button class="flex items-center justify-center w-15 h-15 relative">
						<img id="notifLogo" src="img/notif/walkie-talkie2.png" alt="Notifications" class="w-11 h-auto md:w-10 md:h-10">
						<span id="notifBadge"
							class="hidden absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 items-center justify-center rounded-full pointer-events-none">
							0
						</span>
						<p class="md:hidden text-amber-100 font-semibold">Notifications</p>
					</button>

					<div id="notifPopup" class="hidden absolute right-0 mt-2 w-72 bg-gray-800 text-white rounded shadow-lg z-50">
						<ul id="notifList" class="flex flex-col p-2 gap-2 max-h-60 overflow-y-auto">
							<!-- Notifications listÃ©es ici -->
						</ul>
					</div>
				</div>

				<div id="languageMenu" class="relative">
					<button id="langButton" class="flex justify-center items-center w-full md:w-auto gap-2 bg-transparent text-amber-100 hover:text-white">
						<img id="currentFlag" src="img/flags/en.png" alt="EN"
							class="w-6 h-6 rounded-full border border-amber-100" />
						<span class="uppercase text-sm">EN</span>
						<svg class="w-4 h-4 text-amber-100" fill="none" stroke="currentColor" viewBox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
						</svg>
					</button>

					<div id="langDropdown"
						class="hidden absolute left-0 right-0 md:left-auto md:right-0 mt-2 w-full md:w-28 bg-rose-900 text-amber-100 rounded shadow-lg z-50">
						<!-- Dynamically generated language buttons in lang.ts-->
					</div>
				</div>

				<button id="btnLogout" data-i18n="logout"
					class="hidden bg-rose-600 text-amber-100 px-4 py-2 rounded hover:bg-rose-500">
				</button>
			</div>

			<button id="headerMenuHandle"
				class="md:hidden flex items-center justify-center w-12 h-12 rounded bg-transparent text-amber-100 hover:text-white"
				aria-label="Menu" aria-controls="headerMenu" aria-expanded="false">
				<svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24">
					<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
				</svg>
			</button>
		</div>
	</header>

	<!-- Header burger menu overlay (mobile only) -->
	<div id="headerMenuOverlay" class="md:hidden fixed inset-0 bg-black bg-opacity-50 hidden z-40"></div>


	<!-- MODALE Sign Up -->
	<div id="modalSignUp" class="hidden fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
		<div class="bg-white p-6 rounded shadow-md w-full max-w-sm">
			<button id="closeSignUp"
				class="w-full flex justify-end h-5 text-black text-2xl transition-colors duration-200 hover:text-zinc-800">
				âœ•
			</button>
			<h2 data-i18n="signUp" class="text-xl font-bold mb-4"></h2>
			<form id="formSignUp" class="flex flex-col gap-4">
				<input type="text" id="usernameSignUp" data-i18n-placeholder="username" class="border p-2 rounded" />
				<input type="password" id="passwordSignUp" data-i18n-placeholder="password"
					class="border p-2 rounded" />
				<input type="password" id="passwordSignUpConfirm" data-i18n-placeholder="confirmNewPasswordPlaceholder"
					class="border p-2 rounded" />
					
				<label class="flex items-center gap-2 text-sm">
					<input data-i18n="enable2FA" type="checkbox" id="enable2FASignUp" class="h-4 w-4" />
					<span data-i18n="enable2FA"></span>
				</label>
					
				<button data-i18n="register" type="submit"
					class="bg-green-500 text-white p-2 rounded hover:bg-green-600"></button>

				<label class="flex items-center justify-center gap-2 text-sm">
					<input data-i18n="stayConnected" type="checkbox" id="staySignUp" class="h-4 w-4" />
					<span data-i18n="stayConnected"></span>
				</label>
			</form>
			<p id="messageSignUp" class="text-red-500 mt-2"></p>
		</div>
	</div>

	<!-- MODALE Sign In -->
	<div id="modalSignIn" class="hidden fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
		<div class="bg-white p-6 rounded shadow-md w-full max-w-sm">
			<button id="closeSignIn"
				class="w-full flex justify-end h-5 text-black text-2xl transition-colors duration-200 hover:text-zinc-800">
				âœ•
			</button>
			<h2 data-i18n="signIn" class="text-xl font-bold mb-4"></h2>
			<form id="formSignIn" class="flex flex-col gap-4">
				<input type="text" id="usernameSignIn" data-i18n-placeholder="username" class="border p-2 rounded" />
				<input type="password" id="passwordSignIn" data-i18n-placeholder="password"
					class="border p-2 rounded" />
				<label class="flex items-center gap-2 text-sm">
					<input type="checkbox" id="staySignIn" class="h-4 w-4" />
					<span data-i18n="stayConnected"></span>
				</label>
				<button data-i18n="signIn" type="submit"
					class="bg-blue-500 text-white p-2 rounded hover:bg-blue-600"></button>
			</form>
			<p id="messageSignIn" class="text-red-500 mt-2"></p>
		</div>
	</div>

	<!-- MODALE 2FA Setup -->
	<div id="modal2FASetup" class="hidden fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
		<div class="bg-white p-4 sm:p-6 rounded shadow-md w-[95vw] max-w-md max-h-[90vh] overflow-y-auto">
			<h2 data-i18n="setup2FA" class="text-xl font-bold md:mb-4 mb-2"></h2>
			
			<!-- QR Code Section -->
			<div id="qrCodeSection" class="flex flex-col items-center gap-3 sm:gap-4 mb-4 sm:mb-6">
				<p data-i18n="scanQR" class="text-sm text-gray-600 text-center"></p>
				<div id="qrCodeContainer" class="bg-white p-4 border-2 border-gray-300 rounded">
					<!-- QR code will be inserted here -->
				</div>
				<div class="w-full">
					<p data-i18n="manualEntry" class="text-xs text-gray-500 mb-2"></p>
					<div class="bg-gray-100 p-2 rounded border border-gray-300">
						<code id="manualSecret" class="text-sm font-mono break-all"></code>
					</div>
				</div>
			</div>

			<!-- Backup Codes Section -->
			<div id="backupCodesSection" class="mb-4 sm:mb-6">
				<p data-i18n="saveBackupCodes" class="text-sm font-semibold text-gray-700 mb-2"></p>
				<p data-i18n="backupCodesWarning" class="text-xs text-gray-500 mb-2"></p>
				<div class="bg-yellow-50 border border-yellow-300 rounded p-3 max-h-32 overflow-y-auto">
					<div id="backupCodesList" class="grid grid-cols-2 gap-1 text-xs font-mono">
						<!-- Backup codes will be inserted here -->
					</div>
				</div>
				<button id="copyBackupCodes" data-i18n="copyBackupCodes" class="mt-2 text-xs bg-gray-200 px-3 py-1 rounded hover:bg-gray-300 w-full">
				</button>
			</div>

			<!-- Verification Section -->
			<form id="form2FAVerify" class="flex flex-col gap-4">
				<div>
					<label data-i18n="enterCode" class="block text-sm font-medium mb-2"></label>
					<input type="text" id="input2FACode" 
						placeholder="000000" 
						maxlength="6" 
						pattern="[0-9]{6}"
						class="border p-2 rounded w-full text-center text-2xl font-mono tracking-widest" 
						autocomplete="off" />
				</div>
				<button data-i18n="verifyComplete" type="submit" class="bg-green-500 text-white p-2 rounded hover:bg-green-600 font-semibold">
				</button>
				<button data-i18n="skipSetup" type="button" id="skip2FA" class="text-sm text-gray-500 hover:text-gray-700 underline">
				</button>
			</form>
			<p id="message2FA" class="text-red-500 mt-2 text-sm"></p>
		</div>
	</div>

	<!-- MODALE 2FA Login Verification -->
	<div id="modal2FALogin" class="hidden fixed inset-0 bg-black bg-opacity-50 items-center justify-center z-50">
		<div class="bg-white p-6 rounded shadow-md w-full max-w-sm">
			<h2 data-i18n="twoFALogin" class="text-xl font-bold mb-4"></h2>
			<p data-i18n="enterCodeLogin" class="text-sm text-gray-600 mb-4"></p>
			<form id="form2FALogin" class="flex flex-col gap-4">
				<input type="text" id="input2FALoginCode" 
					placeholder="000000" 
					maxlength="6" 
					pattern="[0-9]{6}"
					class="border p-2 rounded text-center text-2xl font-mono tracking-widest" 
					autocomplete="off" />
				<button data-i18n="verify" type="submit" class="bg-blue-500 text-white p-2 rounded hover:bg-blue-600 font-semibold">
				</button>
				<button data-i18n="cancel" type="button" id="cancel2FALogin" class="text-sm text-gray-500 hover:text-gray-700 underline">
				</button>
			</form>
			<p data-i18n="backupCodeHint" class="text-xs text-gray-500 mt-4"></p>
			<p id="message2FALogin" class="text-red-500 mt-2 text-sm"></p>
		</div>
	</div>


	<section id="viewGame" class="hidden flex-col view items-center justify-start p-1 sm:p-4 gap-2 sm:gap-4 min-h-0 overflow-auto">
		<div class="relative flex flex-col lg:flex-row justify-center w-full lg:max-w-[1600px] md:pt-[10vh] pt-0  gap-2 sm:gap-4 mx-auto">
			<!-- Zone Pong -->
			<div id="pongContainer" class="w-full lg:flex-1 p-1 sm:p-4 bg-rose-950 bg-opacity-80 rounded-lg shadow-lg">
				<canvas id="pongCanvas" class="bg-black bg-opacity-50 rounded w-full" style="display: block;"></canvas>
				
				<!-- On-screen controls (visible on touch devices) -->
				<div id="gameControls" class="flex justify-between items-center mt-1 sm:mt-4 gap-2 sm:gap-4 lg:hidden">
					<!-- Player 1 Controls (Left Side) -->
					<div class="flex flex-row gap-1 sm:gap-2">
						<button id="btnUpPlayer1" class="bg-amber-100 hover:bg-amber-200 active:bg-amber-300 text-rose-950 font-bold p-2 sm:p-4 rounded-lg shadow-lg transition-all touch-none select-none">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-8 sm:w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 15l7-7 7 7" />
							</svg>
						</button>
						<button id="btnDownPlayer1" class="bg-amber-100 hover:bg-amber-200 active:bg-amber-300 text-rose-950 font-bold p-2 sm:p-4 rounded-lg shadow-lg transition-all touch-none select-none">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-8 sm:w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 9l-7 7-7-7" />
							</svg>
						</button>
					</div>
					
					<!-- Player 2 Controls (Right Side) - Only for offline mode -->
					<div id="player2Controls" class="flex flex-row gap-1 sm:gap-2">
						<button id="btnUpPlayer2" class="bg-amber-100 hover:bg-amber-200 active:bg-amber-300 text-rose-950 font-bold p-2 sm:p-4 rounded-lg shadow-lg transition-all touch-none select-none">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-8 sm:w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 15l7-7 7 7" />
							</svg>
						</button>
						<button id="btnDownPlayer2" class="bg-amber-100 hover:bg-amber-200 active:bg-amber-300 text-rose-950 font-bold p-2 sm:p-4 rounded-lg shadow-lg transition-all touch-none select-none">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 sm:h-8 sm:w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M19 9l-7 7-7-7" />
							</svg>
						</button>
					</div>
				</div>
			</div>
	
			<!-- ðŸ’¬ Global chat (responsive layout) -->
			<div id="gameChat"
				class="w-full lg:w-80 lg:min-w-[320px] h-full lg:h-auto bg-black bg-opacity-70 text-amber-100 flex flex-col border border-rose-950 rounded-2xl shadow-lg overflow-hidden">
				<div data-i18n="globalChat"
					class="p-2 sm:p-3 text-base sm:text-lg font-bold border-b border-rose-950 bg-rose-950 rounded-t-2xl flex justify-between items-center">
				</div>
	
				<!-- Messages added dynamically-->
				<div id="chatMessages" class="flex-1 overflow-y-auto p-2 sm:p-3 space-y-2 text-xs sm:text-sm"></div>
	
				<!-- Input -->
				<form id="chatForm" class="p-2 sm:p-3 border-t border-rose-950 flex bg-rose-950 rounded-b-2xl">
					<input id="chatInput" type="text" autocomplete="off" data-i18n-placeholder="messagePlaceholder"
						class="flex-1 bg-amber-100 text-black p-2 text-sm rounded-l outline-none" />
					<button type="submit" class="bg-red-500 px-3 sm:px-4 rounded-r hover:bg-red-400">
						âž¤
					</button>
				</form>
			</div>
		</div>
		<div class="w-full max-w-[1800px] flex justify-center items-center mt-1 sm:mt-2 mx-auto px-2 sm:px-4">
			<button
				id="btnLeaveGame"
				data-i18n="leaveGame" 
				class="text-white px-3 py-1.5 sm:px-6 sm:py-3 text-sm sm:text-xl font-bold bg-red-500 rounded hover:bg-red-600 shadow-lg transition-transform duration-200 hover:scale-105">
			</button>
		</div>
	</section>

	<!-- Menu Pong -->
	<div id="pongMenu" class="flex fixed inset-0 h-svh flex-col items-center justify-center gap-4 z-20 px-4"
		style="pointer-events: auto;">
		<h2 id="menuTitle" class="text-5xl sm:text-6xl md:text-7xl text-amber-100 font-bold text-center leading-tight"
			style="font-family: 'Syne Mono', cursive;">
			<span class="prompt">&gt</span> <span id="typedText"></span>
			<span id="cursor" class="inline-block w-4 sm:w-6 h-10 sm:h-16 bg-amber-100 ml-1"></span>
		</h2>
		<span data-i18n="click"
			class="text-lg sm:text-2xl text-amber-200 font-mono mb-2 animate-pulse text-center"></span>
		<div class="flex flex-wrap justify-center gap-6 mt-4">
			<button id="btnOffline"
				class="group flex flex-col items-center justify-center w-32 h-32 sm:w-40 sm:h-40 md:w-44 md:h-44 rounded-full bg-amber-100 hover:bg-red-500 text-red-500 shadow-lg transform transition-transform duration-200 hover:scale-110">
				<img src="img/btn/joystick.png" alt="Offline" class="w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24" />
				<span data-i18n="local"
					class="mt-3 text-sm sm:text-base font-semibold text-red-500 uppercase transition-colors duration-200 group-hover:text-amber-100">
				</span>
			</button>
			<button id="btnOnline"
				class="hidden group flex-col items-center justify-center w-32 h-32 sm:w-40 sm:h-40 md:w-44 md:h-44 rounded-full bg-amber-100 hover:bg-red-500 shadow-lg transform transition-transform duration-200 hover:scale-110">
				<img src="img/btn/mars.png" alt="Online" class="w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24" />
				<span data-i18n="online"
					class="mt-3 text-sm sm:text-base font-semibold text-red-500 uppercase transition-colors duration-200 group-hover:text-amber-100">
				</span>
			</button>
			<button id="btnTournament"
				class="hidden group flex-col items-center justify-center w-32 h-32 sm:w-40 sm:h-40 md:w-44 md:h-44 rounded-full bg-amber-100 hover:bg-red-500 shadow-lg transform transition-transform duration-200 hover:scale-110">
				<img src="img/btn/astronomy.png" alt="Tournament" class="w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24" />
				<span data-i18n="tournament"
					class="mt-3 text-sm sm:text-base font-semibold text-red-500 uppercase transition-colors duration-200 group-hover:text-amber-100">
				</span>
			</button>
			<button id="btnIA"
				class="group flex flex-col items-center justify-center w-32 h-32 sm:w-40 sm:h-40 md:w-44 md:h-44 rounded-full bg-amber-100 hover:bg-red-500 shadow-lg transform transition-transform duration-200 hover:scale-110">
				<img src="img/btn/robot.png" alt="AI" class="w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24" />
				<span data-i18n="ai"
					class="mt-3 text-sm sm:text-base font-semibold text-red-500 uppercase transition-colors duration-200 group-hover:text-amber-100">
				</span>
			</button>
			<button id="btnLocalTournament"
				class="group flex flex-col items-center justify-center w-32 h-32 sm:w-40 sm:h-40 md:w-44 md:h-44 rounded-full bg-amber-100 hover:bg-red-500 shadow-lg transform transition-transform duration-200 hover:scale-110">
				<img src="img/btn/canon-spatial.png" alt="Local Tournament" class="w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24" />
				<span data-i18n="offTournament"
					class="mt-3 text-sm sm:text-base font-semibold text-red-500 uppercase transition-colors duration-200 group-hover:text-amber-100">
				</span>
			</button>
		</div>
	</div>

	<script>
		const title = "MENU";
		const typedText = document.getElementById('typedText');
		const cursor = document.getElementById('cursor');
		let titleIndex = 0;
		function typeTitle() {
			if (titleIndex <= title.length) {
				typedText.textContent = title.slice(0, titleIndex);
				titleIndex++;
				setTimeout(typeTitle, 200);
			}
		}

		setInterval(() => {
			cursor.style.visibility = cursor.style.visibility === 'hidden' ? 'visible' : 'hidden';
		}, 500);

		typeTitle();
	</script>

	<div id="lobby" class="view fixed inset-0 flex flex-col items-center justify-center z-30 gap-4">
		<div id="lobbyLocalOptions" class="hidden flex-col items-center gap-2">
			<label data-i18n="player2" for="lobbyPlayer2Name" class="text-amber-100"></label>
			<input id="lobbyPlayer2Name" type="text" placeholder="Player 2 Name"
				class="p-2 rounded bg-amber-100 text-black w-56" />
		</div>
		
		<!-- Offline Tournament Player Entry -->
		<div id="lobbyTournamentOptions" class="hidden flex-col items-center gap-4 w-full max-w-md">
			<h2 data-i18n="tournamentPlayers" class="text-2xl font-bold text-amber-100">Tournament Players</h2>
			<p data-i18n="tournamentPlayersHint" class="text-amber-200 text-sm text-center">Enter aliases for 4-8 players (no registration required)</p>
			
			<div id="tournamentPlayersList" class="flex flex-col gap-2 w-full max-h-64 overflow-y-auto">
				<!-- Player inputs will be added here dynamically -->
			</div>
			
			<div class="flex gap-2">
				<button id="btnAddTournamentPlayer" type="button"
					class="text-white px-4 py-2 text-lg font-bold bg-blue-500 rounded hover:bg-blue-600 shadow-lg transition-transform duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
					<span data-i18n="addPlayer">+ Add Player</span>
				</button>
				<button id="btnRemoveTournamentPlayer" type="button"
					class="text-white px-4 py-2 text-lg font-bold bg-orange-500 rounded hover:bg-orange-600 shadow-lg transition-transform duration-200 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed">
					<span data-i18n="removePlayer">- Remove</span>
				</button>
			</div>
			
			<p id="tournamentPlayerCount" class="text-amber-200 text-sm"></p>
		</div>
		
		<div id="lobbyOnlineGroup" class="hidden flex justify-between items-center gap-2"></div>
		<div class="flex flex-row-reverse items-center justify-center gap-5">
			<button data-i18n="start" id="btnStart"
				class="hidden text-white px-6 py-3 text-2xl font-bold bg-green-500 rounded hover:bg-green-600 shadow-lg transition-transform duration-200 hover:scale-105">
			</button>
			<button data-i18n="back" id="backToMenu"
				class="hidden text-amber-100 px-6 py-3 text-2xl font-bold bg-red-500 rounded hover:bg-red-600 shadow-lg transition-transform duration-200 hover:scale-105">
			</button>
		</div>

		<p id="startMessage" class="bg-amber-100 rounded-xl py-2 px-2 text-red-500 font-semibold mt-2 hidden"></p>

		<span id="goodBye" data-i18n="thanks"
			class="hidden sm:text-6xl md:text-7xl text-amber-100 font-bold text-center leading-tight"
			style="font-family: 'Syne Mono', cursive;"></span>
	</div>

	<!-- User Dashboard view -->
	<div id="userDashboard" class="view hidden fixed inset-0 flex flex-col items-center justify-start z-30 gap-6 pt-20 px-6 overflow-auto">
		<h1 data-i18n="userDashboard" class="text-3xl font-bold text-amber-100"></h1>
		<div id="dashboardContent" class="w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4">
			<!-- <div class="bg-rose-950 bg-opacity-80 rounded-lg p-4 text-amber-100">Stats will appear here.</div>
			<div class="bg-rose-950 bg-opacity-80 rounded-lg p-4 text-amber-100">More widgets.</div> -->
		</div>
		<div class="flex flex-row gap-4 py-6">
			<button data-i18n="matchHistory" id="matchHistory" class="bg-purple-800 text-amber-100 px-6 py-2 rounded hover:bg-purple-600"></button>
			<button data-i18n="back" id="dashboardBack" class="bg-red-600 text-amber-100 px-6 py-2 rounded hover:bg-red-500"></button>
		</div>
	</div>

	<div id="matchHistoryModal"
		class="fixed inset-0 bg-black/70 flex items-center justify-center z-50 hidden">

		<div class="bg-neutral-900 w-[90%] max-w-5xl max-h-[85vh] rounded-xl p-6 flex flex-col">
			<div class="flex justify-between items-center mb-4">
				<h2 class="text-xl font-semibold text-amber-100">
					Match History
				</h2>
				<button id="closeMatchHistory"
					class="text-amber-200 hover:text-red-400 text-xl">
					âœ•
				</button>
			</div>

			<div class="flex gap-4 mb-4 text-sm">
				<select id="filterResult" class="bg-black text-amber-200 p-2 rounded">
					<option value="all">All</option>
					<option value="win">Wins</option>
					<option value="loss">Losses</option>
				</select>

				<select id="filterSort" class="bg-black text-amber-200 p-2 rounded">
					<option value="dateDesc">Date â†“</option>
					<option value="dateAsc">Date â†‘</option>
					<option value="duration">Duration</option>
				</select>
			</div>

			<div class="overflow-y-auto flex-1">
				<table class="w-full text-sm text-amber-200">
					<tbody id="matchHistoryTableBody">
					</tbody>
				</table>
			</div>

		</div>
	</div>


	<!-- Sidebar friends -->
	<div id="sidebarHandle"
		class="fixed top-3/4 md:top-1/3 left-0 z-50 bg-rose-950 text-amber-100 px-2 py-4 rounded-r transform cursor-pointer transition-transform duration-300">
		ðŸ”«
	</div>
	<div id="sidebar"
		class="bg-rose-950 text-amber-100 w-64 min-h-screen p-4 transform -translate-x-full transition-transform duration-300 fixed top-16 left-0 z-40">
		<h2 data-i18n="friends" class="text-amber-100 text-xl font-bold mb-4"></h2>
		<input type="text" id="friendSearch" data-i18n-placeholder="searchUsername"
			class="w-full p-2 mb-4 bg-amber-100 rounded border text-black" />
		<div id="searchResults" class="mt-2"></div>
		<ul id="friendsList" class="space-y-2">
		</ul>
	</div>
	<div id="overlay" class="fixed inset-0 bg-black bg-opacity-50 hidden z-30"></div>

	<!-- ðŸ”¹ Modal Profil -->
	<div id="modalProfile" class="hidden fixed inset-0 items-center justify-center bg-black bg-opacity-50 z-50">
		<div class="bg-white rounded-lg shadow-lg w-96 p-6 relative">
			<button id="closeProfile" class="w-full flex justify-end h-5 text-black text-2xl transition-colors duration-200 hover:text-zinc-800">âœ•</button>
			<h2 data-i18n="editProfile" class="text-xl font-bold mb-4"></h2>

			<form id="formProfile" class="space-y-4">
				<!-- Avatar -->
				<div class="flex flex-col items-center mb-4">
					<div class="relative">
						<img id="profilePicturePreview" src="" alt="Profile picture"
							class="w-24 h-24 rounded-full object-cover border-2 border-gray-300" />
						<button type="button" id="editProfilePictureBtn"
							class="absolute bottom-1 right-1 bg-white rounded-full p-1 shadow hover:bg-gray-100"
							data-i18n-title="editPp">
							<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-700" fill="none"
								viewBox="0 0 24 24" stroke="currentColor">
								<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
									d="M15.232 5.232l3.536 3.536M9 13l6.586-6.586a2 2 0 112.828 2.828L11.828 15.828a2 2 0 01-2.828 0L9 13zm0 0V17h4" />
							</svg>
						</button>
						<input type="file" id="profilePictureInput" accept="image/*" class="hidden" />
					</div>
				</div>

				<!-- Username -->
				<div>
					<label data-i18n="username" class="block mb-1 font-medium"></label>
					<input type="text" id="profileNameInput" placeholder="" class="w-full border p-2 rounded" />
				</div>

				<!-- Password -->
				<div>
					<label data-i18n="newPassword" class="block mb-1 font-medium"></label>
					<input type="password" id="profilePasswordInput" data-i18n-placeholder="newPasswordPlaceholder" class="w-full border p-2 rounded" />
					<input type="password" id="profilePasswordConfirm" data-i18n-placeholder="confirmNewPasswordPlaceholder"
						class="w-full border p-2 rounded mt-2" />
				</div>

				<label for="enable2FA" class="inline-flex items-center space-x-2">
					<input type="checkbox" data-i18n="enable2FA" id="enable2FA" />
					<span data-i18n="enable2FA"></span>
				</label>

				<button data-i18n="save" type="submit"
					class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-400 w-full">
				</button>
				<p id="alert" class="text-center text-sm mt-2"></p>
			</form>
		</div>
	</div>

	<!-- ðŸ”¹ Modal Profil Ami -->
	<div id="modalFriendProfile" class="hidden fixed inset-0 items-center justify-center bg-black bg-opacity-50 z-50">
		<div class="bg-white rounded-lg shadow-lg w-96 p-6 relative">
			<button id="closeFriendProfile" class="w-full flex justify-end h-5 text-black text-2xl transition-colors duration-200 hover:text-zinc-800">âœ•</button>
			<h2 data-i18n="friendProfile" class="text-xl font-bold mb-4"></h2>

			<div class="flex flex-col items-center mb-4">
				<img id="friendProfileAvatar" src="" alt="Avatar"
					class="w-24 h-24 rounded-full object-cover border-2 border-gray-300 mb-2" />
				<span id="friendProfileName" class="font-semibold text-lg"></span>
				<span id="friendProfileStatus" class="text-gray-500 text-sm"></span>
			</div>

			<p id="friendProfileBio" class="text-center text-gray-700 mb-4"></p>
		</div>
	</div>


	<div id="modalGamePause" class="hidden fixed left-0 right-0 top-1/4 items-start justify-center z-50">
		<div class="bg-white rounded-lg shadow-lg w-full max-w-md p-6">
			<h2 data-i18n="pause" class="text-xl font-bold text-center mb-4"></h2>
			<p data-i18n="disconnected1"></p>
			<p class="mb-4" data-i18n="waitReconnection"></p>
			<div id="pauseTimer" class="text-center text-lg font-mono mb-2">00:10</div>
			<div class="w-full h-2 bg-gray-200 rounded overflow-hidden">
				<div class="h-full bg-blue-500 animate-loader" style="width: 40%;"></div>
			</div>
		</div>
	</div>

	<div id="modalReconnect" class="hidden fixed left-0 right-0 top-1/4 items-start justify-center z-50">
		<div class="bg-white rounded-lg shadow-lg w-full max-w-md p-6">
			<h2 data-i18n="reconnection" class="text-xl font-bold text-center mb-4"></h2>
			<p data-i18n="disconnected2"></p>
			<p class="mb-4 text-center" data-i18n="reconnect?"></p>
			<div class="flex justify-center gap-4">
				<button id="btnReconnectYes" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-400"
					data-i18n="yes"></button>
				<button id="btnReconnectNo" class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-400"
					data-i18n="no"></button>
			</div>
		</div>
	</div>

  <!-- Scripts -->
  <script type="module" src="dist/index.js" defer></script>
</body>

</html>
